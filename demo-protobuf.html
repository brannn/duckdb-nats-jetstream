<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuckDB NATS JetStream Extension Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 1400px;
            width: 100%;
            background: #1e1e1e;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: #2d2d30;
            padding: 20px 30px;
            border-bottom: 1px solid #3e3e42;
        }

        .header h1 {
            color: #ffd43b;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .header p {
            color: #a0a0a0;
            font-size: 14px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0;
        }

        .terminal-section {
            background: #1e1e1e;
            padding: 30px;
            border-bottom: 1px solid #3e3e42;
        }

        .terminal-section:last-child {
            border-bottom: none;
        }

        .section-title {
            color: #4ec9b0;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .terminal-content {
            background: #0e0e0e;
            border-radius: 6px;
            padding: 20px;
            border: 1px solid #3e3e42;
        }

        .command-line {
            margin-bottom: 12px;
        }

        .prompt {
            color: #4ec9b0;
            margin-right: 8px;
        }

        .command {
            color: #dcdcaa;
        }

        .comment {
            color: #6a9955;
            font-style: italic;
        }

        .output {
            color: #d4d4d4;
            margin-top: 8px;
            margin-left: 0;
            line-height: 1.6;
        }

        .sql-keyword {
            color: #569cd6;
            font-weight: 600;
        }

        .sql-function {
            color: #dcdcaa;
        }

        .sql-string {
            color: #ce9178;
        }

        .sql-number {
            color: #b5cea8;
        }

        .sql-operator {
            color: #d4d4d4;
        }

        .table-output {
            margin-top: 15px;
            overflow-x: auto;
        }

        .table-output pre {
            color: #d4d4d4;
            line-height: 1.4;
            font-size: 13px;
        }

        .success {
            color: #4ec9b0;
        }

        .highlight {
            color: #ffd43b;
        }

        .separator {
            height: 1px;
            background: #3e3e42;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            body {
                padding: 20px 10px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .terminal-section {
                padding: 20px;
            }
            
            .table-output pre {
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤ DuckDB NATS JetStream Extension</h1>
            <p>Query NATS JetStream with Protocol Buffers - Native Type Support</p>
        </div>

        <div class="demo-grid">
            <!-- Installation Section -->
            <div class="terminal-section">
                <div class="section-title">â‘  Installation</div>
                <div class="terminal-content">
                    <div class="command-line">
                        <span class="prompt">D</span>
                        <span class="command"><span class="sql-keyword">INSTALL</span> nats_js <span class="sql-keyword">FROM</span> community;</span>
                    </div>
                    <div class="output success">Installing nats_js...</div>
                    <div class="output success">Extension nats_js successfully installed.</div>
                    
                    <div class="separator"></div>
                    
                    <div class="command-line">
                        <span class="prompt">D</span>
                        <span class="command"><span class="sql-keyword">LOAD</span> nats_js;</span>
                    </div>
                    <div class="output success">Extension nats_js loaded successfully.</div>
                </div>
            </div>

            <!-- Query Section -->
            <div class="terminal-section">
                <div class="section-title">â‘¡ Query Messages with Protobuf Schema</div>
                <div class="terminal-content">
                    <div class="output comment" style="margin-bottom: 12px;">// telemetry.proto: message PowerMetrics { string device_id; double kw; double voltage; bool online; int32 phase_count; }</div>
                    <div class="command-line">
                        <span class="prompt">D</span>
                        <span class="command"><span class="sql-keyword">SELECT</span> seq, device_id, kw, voltage, online, phase_count</span>
                    </div>
                    <div class="command-line">
                        <span class="command"><span class="sql-keyword">FROM</span> <span class="sql-function">nats_scan</span>(</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    <span class="sql-string">'telemetry'</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    url <span class="sql-operator">:=</span> <span class="sql-string">'nats://nats.messaging.svc.cluster.local:4222'</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    start_time <span class="sql-operator">:=</span> <span class="sql-string">'2025-11-01 09:00:00'</span><span class="sql-operator">::</span><span class="sql-keyword">TIMESTAMP</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    end_time <span class="sql-operator">:=</span> <span class="sql-string">'2025-11-01 09:05:00'</span><span class="sql-operator">::</span><span class="sql-keyword">TIMESTAMP</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    subject <span class="sql-operator">:=</span> <span class="sql-string">'telemetry.dc1.power'</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    proto_file <span class="sql-operator">:=</span> <span class="sql-string">'telemetry.proto'</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    proto_message <span class="sql-operator">:=</span> <span class="sql-string">'PowerMetrics'</span>,</span>
                    </div>
                    <div class="command-line">
                        <span class="command">    proto_extract <span class="sql-operator">:=</span> [<span class="sql-string">'device_id'</span>, <span class="sql-string">'kw'</span>, <span class="sql-string">'voltage'</span>, <span class="sql-string">'online'</span>, <span class="sql-string">'phase_count'</span>]</span>
                    </div>
                    <div class="command-line">
                        <span class="command">)</span>
                    </div>
                    <div class="command-line">
                        <span class="command"><span class="sql-keyword">ORDER BY</span> seq <span class="sql-keyword">LIMIT</span> <span class="sql-number">5</span>;</span>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="terminal-section">
                <div class="section-title">â‘¢ Results - Native Types from Protobuf Schema</div>
                <div class="terminal-content">
                    <div class="table-output">
                        <pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  seq   â”‚  device_id   â”‚   kw   â”‚ voltage â”‚ online  â”‚ phase_count â”‚
â”‚ uint64 â”‚   varchar    â”‚ double â”‚  double â”‚ boolean â”‚   integer   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      1 â”‚ pm5560-001   â”‚   42.5 â”‚   480.2 â”‚ true    â”‚           3 â”‚
â”‚      2 â”‚ pm5560-002   â”‚   38.2 â”‚   479.8 â”‚ true    â”‚           3 â”‚
â”‚      3 â”‚ pm5560-003   â”‚   51.7 â”‚   481.1 â”‚ true    â”‚           3 â”‚
â”‚      4 â”‚ pm5560-004   â”‚   45.3 â”‚   480.5 â”‚ true    â”‚           1 â”‚
â”‚      5 â”‚ pm5560-005   â”‚   39.8 â”‚   479.3 â”‚ false   â”‚           3 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
                    </div>
                    <div class="output" style="margin-top: 15px;">
                        <span class="success">5 rows returned</span> <span class="comment">// Native types: VARCHAR, DOUBLE, BOOLEAN, INTEGER - no casting required!</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

